<!DOCTYPE html>
<html>
<head>
</head>
<body>

	<canvas width="400" height="400"></canvas>
	<script type="text/javascript">
	var c = document.querySelector("canvas");
	var ctx = c.getContext("2d");

	var image = new Image();
	image.onload = function() {
		ctx.drawImage(image,0,0);
		// makeGrayScale();
		doIt();
	}
	image.src = "img.jpg";

	// function paintGreen(imageData) {
	// 	var numPixels = imageData.data.length / 4;
	// 	for (var i = 0; i < numPixels; i++) {
	// 		if (i % 10 === 0) {
	// 			imageData.data[i * 4 + 1] = 255;
	// 			imageData.data[i * 4 + 3] = 255;
	// 		}
	// 	}
	// ctx.putImageData(imageData,0,0);
	// }
	function doIt() {
		var imageData = ctx.getImageData(0,0,400,400);
		var numPixels = imageData.data.length / 4;
		for (var i = 0; i < numPixels; i++) {
			imageData.data[i * 4 + 0] = 255 - imageData.data[i * 4 + 0];
			imageData.data[i * 4 + 1] = 255 - imageData.data[i * 4 + 1];
			imageData.data[i * 4 + 2] = 255 - imageData.data[i * 4 + 2];
		}
		ctx.putImageData(imageData,0,0);
	}
	function makeGrayScale() {
		var imageData = ctx.getImageData(0,0,400,400);
		var numPixels = imageData.data.length / 4;
		for (var i = 0; i < numPixels; i++) {
			var avgRGBValue =
			(imageData.data[i * 4 + 0] +
			imageData.data[i * 4 + 1] +
			imageData.data[i * 4 + 2]) / 3;
			if (i == 1002) {
				console.log(avgRGBValue);
				console.log(imageData.data[i * 4 + 3]);
			}
			imageData.data[i * 4 + 0] = avgRGBValue;
			imageData.data[i * 4 + 1] = avgRGBValue;
			imageData.data[i * 4 + 2] = avgRGBValue;
		}
		ctx.putImageData(imageData,0,0);
	}
	// paintGreen(data);
	// ctx.drawImage("img.jpg",0,0,c.width,c.height);
	makeGrayScale();
	// ctx.strokeRect(50,50,100,100);
	// ctx.beginPath();
	// ctx.moveTo(75,75);
	// ctx.lineTo(125,75);
	// ctx.lineTo(125,125);
	// ctx.lineTo(75,75);
	// ctx.fill();
	// ctx.font="36px Impact";
	// ctx.fillStyle = "white";
	// ctx.strokeStyle = "black";
	// ctx.lineWidth = 3;
	// ctx.fillText("CANVAS MEMES!", 100, 300);
	// ctx.strokeText("CANVAS MEMES!", 100, 300);
	</script>

</body>
</html>